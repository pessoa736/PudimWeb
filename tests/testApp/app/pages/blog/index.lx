-- Blog Index Page
-- Route: /blog

local Div, H1, H2, P, A = html.div, html.h1, html.h2, html.p, html.a

-- Mock posts (in production, load from DB or API)
local posts = {
    { id = "1", title = "Introducao ao PudimWeb", date = "2025-01-15" },
    { id = "2", title = "Componentes Reutilizaveis", date = "2025-01-10" },
    { id = "3", title = "Virtual DOM Explicado", date = "2025-01-05" }
}

local PostCard = component(function(props)
    return <Div class="post-card">
        <H2><A href={"/blog/" .. props.id}>{props.title}</A></H2>
        <P class="date">{props.date}</P>
    </Div>
end)

return component(function(props)
    local postList = {}
    for _, post in ipairs(posts) do
        table.insert(postList, <PostCard 
            id={post.id} 
            title={post.title} 
            date={post.date}
        />)
    end
    
    return <Div class="container">
        <H1>üìù Blog</H1>
        <P>Ultimos artigos sobre PudimWeb</P>
        <Div class="posts">
            {table.concat(postList)}
        </Div>
        <A href="/" class="link">‚Üê Voltar para Home</A>
    </Div>
end)
